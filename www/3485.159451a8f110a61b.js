"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(C,m,a)=>{a.r(m),a.d(m,{LoginPageModule:()=>M});var f=a(177),r=a(4341),p=a(9496),i=a(1075),c=a(2559),e=a(4438),b=a(9885);const h=[{path:"",component:(()=>{var n;class u{constructor(t,o){this.router=t,this.userService=o,this.user={username:"",password:""}}ngOnInit(){this.userService.dbState().subscribe(t=>{t&&this.userService.fetchUsers().subscribe(o=>{})})}login(){this.validateUser()?this.userService.fetchUsers().subscribe(t=>{const o=t.find(s=>s.nombre===this.user.username&&s.password===this.user.password);o?(this.userService.setCurrentUser(o),this.router.navigate(["/inicio"],{state:{user:this.user}})):this.userService.presentToast("Usuario o contrase\xf1a no v\xe1lidos")}):console.error("Usuario no v\xe1lido")}validateUser(){return/^[a-zA-Z0-9]{3,8}$/.test(this.user.username)&&/^\d{4}$/.test(this.user.password)}goToRegister(){this.router.navigate(["/register"])}}return(n=u).\u0275fac=function(t){return new(t||n)(e.rXU(c.Ix),e.rXU(b.D))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-login"]],decls:23,vars:5,consts:[["loginForm","ngForm"],[3,"translucent"],[1,"welcome-title"],[1,"ion-padding",3,"fullscreen"],[1,"sub-title","fade-in"],[1,"ion-padding-bottom",3,"ngSubmit"],["position","floating"],["name","username","required","","minlength","3","maxlength","8","pattern","^[a-zA-Z0-9]*$",3,"ngModelChange","ngModel"],["name","password","required","","minlength","4","maxlength","4","type","password",3,"ngModelChange","ngModel"],["mat-raised-button","","type","submit","color","green",1,"custom-button",2,"width","100%",3,"disabled"],[1,"ion-padding-top"],["ion-button","",3,"click"]],template:function(t,o){if(1&t){const s=e.RV6();e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title",2),e.EFF(3,"Libros Errantes"),e.k0s()()(),e.j41(4,"ion-content",3)(5,"ion-text",4),e.EFF(6,"Cree su cuenta para iniciar"),e.k0s(),e.j41(7,"form",5,0),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(o.login())}),e.j41(9,"ion-item")(10,"ion-label",6),e.EFF(11,"Usuario"),e.k0s(),e.j41(12,"ion-input",7),e.mxI("ngModelChange",function(g){return e.eBV(s),e.DH7(o.user.username,g)||(o.user.username=g),e.Njj(g)}),e.k0s()(),e.j41(13,"ion-item")(14,"ion-label",6),e.EFF(15,"Contrase\xf1a num\xe9rica de 4 d\xedgitos"),e.k0s(),e.j41(16,"ion-input",8),e.mxI("ngModelChange",function(g){return e.eBV(s),e.DH7(o.user.password,g)||(o.user.password=g),e.Njj(g)}),e.k0s()(),e.j41(17,"button",9),e.EFF(18," Ingresar "),e.k0s()(),e.j41(19,"ion-text",10),e.EFF(20,"\xbfNo tienes una cuenta?"),e.k0s(),e.j41(21,"button",11),e.bIt("click",function(){return e.eBV(s),e.Njj(o.goToRegister())}),e.EFF(22,"Registrarse"),e.k0s()()}if(2&t){const s=e.sdS(8);e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(8),e.R50("ngModel",o.user.username),e.R7$(4),e.R50("ngModel",o.user.password),e.R7$(),e.Y8G("disabled",!s.valid)}},dependencies:[r.qT,r.BC,r.cb,r.YS,r.xh,r.tU,r.R_,r.vS,r.cV,i.W9,i.eU,i.$w,i.uz,i.he,i.IO,i.BC,i.ai,i.Gw,p.$z],styles:['@charset "UTF-8";.title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.welcome-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.sub-title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;color:#000}.custom-button[_ngcontent-%COMP%]{background-color:#004d40;color:#fff}.custom-button[_ngcontent-%COMP%]:hover{background-color:#00332a}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 3.5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.custom-button.mat-raised-button.mat-primary[_ngcontent-%COMP%], .custom-button.mat-raised-button[_ngcontent-%COMP%]{background-color:#004d40;color:#fff}.custom-button.mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover, .custom-button.mat-raised-button[_ngcontent-%COMP%]:hover{background-color:#00332a}']}),u})()}];let P=(()=>{var n;class u{}return(n=u).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[c.iI.forChild(h),c.iI]}),u})(),M=(()=>{var n;class u{}return(n=u).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[f.MD,r.YN,i.bv,P,p.Hl]}),u})()}}]);